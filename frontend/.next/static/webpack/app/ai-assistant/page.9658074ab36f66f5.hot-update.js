"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/ai-assistant/page",{

/***/ "(app-pages-browser)/./src/components/ai/AIChatAssistant.tsx":
/*!***********************************************!*\
  !*** ./src/components/ai/AIChatAssistant.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AIChatAssistant; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/.pnpm/next@14.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/.pnpm/next@14.0.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Loader2_Mic_Send_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Mic,Send,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.290.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Mic_Send_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Mic,Send,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.290.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/loader-2.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Mic_Send_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Mic,Send,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.290.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Mic_Send_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Mic,Send,Sparkles!=!lucide-react */ \"(app-pages-browser)/./node_modules/.pnpm/lucide-react@0.290.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _lib_fetchClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/fetchClient */ \"(app-pages-browser)/./src/lib/fetchClient.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction AIChatAssistant(param) {\n    let { caseId } = param;\n    _s();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        {\n            id: \"1\",\n            role: \"assistant\",\n            content: \"\\uD83D\\uDC4B Hello! I’m your AI Legal Assistant — ready to help you understand your case, explain legal terms, and suggest fair strategies. How can I assist you today?\",\n            timestamp: new Date().toISOString()\n        }\n    ]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [inputSpacerHeight, setInputSpacerHeight] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(72);\n    const [isRecording, setIsRecording] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const recognitionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const finalTranscriptRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(\"\");\n    const origInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"end\"\n        });\n    }, [\n        messages,\n        loading\n    ]);\n    // On mount, try to load persisted conversation from backend so refresh\n    // preserves chat history. If fetching fails (401 or network), keep default.\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let mounted = true;\n        const loadConversation = async ()=>{\n            try {\n                const apiBase = (_lib_fetchClient__WEBPACK_IMPORTED_MODULE_2__.API_URL || \"\").replace(/\\/api\\/?$/, \"\");\n                const token =  true ? localStorage.getItem(\"auth_token\") : 0;\n                const resp = await fetch(\"\".concat(apiBase, \"/api/ai/conversation\"), {\n                    method: \"GET\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                        ...token ? {\n                            Authorization: \"Bearer \".concat(token)\n                        } : {}\n                    }\n                });\n                if (!mounted) return;\n                if (!resp.ok) {\n                    // ignore auth errors / network issues here and keep default greeting\n                    return;\n                }\n                const json = await resp.json();\n                if (json && json.success && json.data && Array.isArray(json.data.history) && json.data.history.length) {\n                    const mapped = json.data.history.map((m, idx)=>({\n                            id: \"\".concat(m.timestamp || Date.now(), \"-\").concat(idx),\n                            role: m.role || \"assistant\",\n                            content: m.content || \"\",\n                            timestamp: m.timestamp || new Date().toISOString()\n                        }));\n                    setMessages(mapped);\n                }\n            } catch (e) {\n            // ignore - keep default greeting\n            }\n        };\n        loadConversation();\n        return ()=>{\n            mounted = false;\n        };\n    }, []);\n    // Measure input container height so we can insert a spacer inside the\n    // messages area. This prevents the last message from being hidden under\n    // the input and also removes weird visual gaps at the bottom.\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const measure = ()=>{\n            var _inputContainerRef_current;\n            const h = ((_inputContainerRef_current = inputContainerRef.current) === null || _inputContainerRef_current === void 0 ? void 0 : _inputContainerRef_current.offsetHeight) || 72;\n            setInputSpacerHeight(h + 8); // add small buffer\n        };\n        measure();\n        window.addEventListener(\"resize\", measure);\n        return ()=>window.removeEventListener(\"resize\", measure);\n    }, []);\n    // Auto-resize textarea up to a maximum lines (4). When content height\n    // exceeds that, enable internal scrolling.\n    const adjustTextareaHeight = ()=>{\n        const ta = textareaRef.current;\n        if (!ta) return;\n        const style = window.getComputedStyle(ta);\n        let lineHeight = parseFloat(style.lineHeight || \"0\");\n        if (!lineHeight || isNaN(lineHeight)) lineHeight = 20; // sensible fallback\n        const maxLines = 4;\n        const maxHeight = Math.floor(lineHeight * maxLines);\n        ta.style.height = \"auto\"; // reset to measure\n        const newHeight = Math.min(ta.scrollHeight, maxHeight);\n        ta.style.height = \"\".concat(newHeight, \"px\");\n        if (ta.scrollHeight > maxHeight) {\n            ta.style.overflowY = \"auto\";\n        } else {\n            ta.style.overflowY = \"hidden\";\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        adjustTextareaHeight();\n    }, [\n        input\n    ]);\n    const handleSend = async ()=>{\n        if (!input.trim()) return;\n        const userMessage = {\n            id: Date.now().toString(),\n            role: \"user\",\n            content: input.trim(),\n            timestamp: new Date().toISOString()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        setInput(\"\");\n        setLoading(true);\n        // normalize api base before network call so error handling can reference it\n        const apiBase = _lib_fetchClient__WEBPACK_IMPORTED_MODULE_2__.API_URL.replace(/\\/api\\/?$/, \"\");\n        try {\n            var _resp_body;\n            const conversationHistory = [\n                ...messages,\n                userMessage\n            ].map((m)=>({\n                    role: m.role,\n                    content: m.content\n                }));\n            const token =  true ? localStorage.getItem(\"auth_token\") : 0;\n            // Normalize API base: strip trailing /api or /api/ to avoid double slashes\n            const url = \"\".concat(apiBase, \"/api/ai/stream\");\n            const body = JSON.stringify({\n                message: userMessage.content,\n                caseId,\n                conversationHistory\n            });\n            const resp = await fetch(url, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    ...token ? {\n                        Authorization: \"Bearer \".concat(token)\n                    } : {}\n                },\n                body\n            });\n            if (!resp.ok) {\n                // Try to parse JSON error body, else read text\n                let errMsg = \"Server returned \".concat(resp.status);\n                try {\n                    const json = await resp.json();\n                    errMsg = (json === null || json === void 0 ? void 0 : json.error) || (json === null || json === void 0 ? void 0 : json.message) || JSON.stringify(json);\n                } catch (e) {\n                    try {\n                        const txt = await resp.text();\n                        if (txt) errMsg = txt;\n                    } catch (e) {}\n                }\n                console.error(\"AI stream start failed:\", resp.status, errMsg);\n                throw new Error(errMsg || \"Failed to start stream\");\n            }\n            const reader = (_resp_body = resp.body) === null || _resp_body === void 0 ? void 0 : _resp_body.getReader();\n            if (!reader) throw new Error(\"Streaming not supported\");\n            const assistantId = (Date.now() + 1).toString();\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        id: assistantId,\n                        role: \"assistant\",\n                        content: \"\",\n                        timestamp: new Date().toISOString()\n                    }\n                ]);\n            const decoder = new TextDecoder();\n            let done = false;\n            let partial = \"\";\n            // Robust SSE parsing: handle chunk boundaries and multi-line data\n            // frames (commonly JSON). We accumulate incoming chunks into\n            // `partial` and extract complete SSE events terminated by \"\\n\\n\".\n            // Each event may contain multiple `data:` lines which should be\n            // joined with newlines. If the data looks like JSON we parse it and\n            // extract useful fields, otherwise treat as raw text.\n            while(!done){\n                const { value, done: streamDone } = await reader.read();\n                if (value) {\n                    const chunkText = decoder.decode(value, {\n                        stream: true\n                    });\n                    partial += chunkText;\n                    // Extract complete events\n                    let idx;\n                    while((idx = partial.indexOf(\"\\n\\n\")) !== -1){\n                        const eventBlock = partial.slice(0, idx);\n                        partial = partial.slice(idx + 2);\n                        if (!eventBlock.trim()) continue;\n                        const lines = eventBlock.split(\"\\n\");\n                        const dataLines = [];\n                        let eventType = \"\";\n                        for (let rawLine of lines){\n                            const line = rawLine.trim();\n                            if (line.startsWith(\"data:\")) {\n                                dataLines.push(line.replace(/^data:\\s?/, \"\"));\n                            } else if (line.startsWith(\"event:\")) {\n                                eventType = line.replace(/^event:\\s?/, \"\").trim();\n                            }\n                        }\n                        const dataStr = dataLines.join(\"\\n\");\n                        // If event declares done, mark completion\n                        if (eventType && eventType.includes(\"done\")) {\n                            done = true;\n                            continue;\n                        }\n                        if (!dataStr) continue;\n                        // Try to parse JSON frames; many backends send JSON in `data:`\n                        let appended = \"\";\n                        try {\n                            const parsed = JSON.parse(dataStr);\n                            // Common patterns: { text: '...', content: '...' } or plain string\n                            if (typeof parsed === \"string\") {\n                                appended = parsed;\n                            } else if (parsed === null || parsed === void 0 ? void 0 : parsed.text) {\n                                appended = parsed.text;\n                            } else if (parsed === null || parsed === void 0 ? void 0 : parsed.content) {\n                                appended = parsed.content;\n                            } else {\n                                // Fallback: stringify everything\n                                appended = JSON.stringify(parsed);\n                            }\n                        } catch (e) {\n                            // Not JSON, unescape explicit \\n sequences and append raw\n                            appended = dataStr.replace(/\\\\n/g, \"\\n\");\n                        }\n                        if (appended) {\n                            setMessages((prev)=>prev.map((m)=>m.id === assistantId ? {\n                                        ...m,\n                                        content: m.content + appended\n                                    } : m));\n                        }\n                    }\n                }\n                if (streamDone) break;\n            }\n            try {\n                var _reader_releaseLock;\n                await ((_reader_releaseLock = reader.releaseLock) === null || _reader_releaseLock === void 0 ? void 0 : _reader_releaseLock.call(reader));\n            } catch (e) {}\n        } catch (err) {\n            // Distinguish network-level failures (TypeError) from HTTP errors\n            const msg = (err === null || err === void 0 ? void 0 : err.message) || String(err);\n            let friendly = \"⚠️ I encountered an issue while processing your request. \".concat(msg);\n            // common browser network error message is 'Failed to fetch' (TypeError)\n            if (/failed to fetch/i.test(msg) || /network/i.test(msg)) {\n                friendly = \"⚠️ Network error: could not reach the backend at \".concat(apiBase || _lib_fetchClient__WEBPACK_IMPORTED_MODULE_2__.API_URL, \". Is the backend running? Check the browser console for CORS or network errors.\");\n            }\n            const errorMessage = {\n                id: (Date.now() + 1).toString(),\n                role: \"assistant\",\n                content: friendly,\n                timestamp: new Date().toISOString()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    errorMessage\n                ]);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSend();\n        }\n    };\n    // Microphone / Speech recognition handling (Web Speech API)\n    const startRecognition = ()=>{\n        if (false) {}\n        const Win = window;\n        const SpeechRecognition = Win.SpeechRecognition || Win.webkitSpeechRecognition;\n        if (!SpeechRecognition) {\n            alert(\"Speech recognition is not supported in this browser.\");\n            return;\n        }\n        try {\n            const recognition = new SpeechRecognition();\n            recognition.lang = \"en-IN\";\n            recognition.interimResults = true;\n            recognition.continuous = true;\n            finalTranscriptRef.current = \"\";\n            origInputRef.current = input || \"\";\n            recognition.onresult = (ev)=>{\n                let interim = \"\";\n                for(let i = ev.resultIndex; i < ev.results.length; ++i){\n                    const res = ev.results[i];\n                    if (res.isFinal) {\n                        finalTranscriptRef.current += res[0].transcript;\n                    } else {\n                        interim += res[0].transcript;\n                    }\n                }\n                // Combine original input + finalized transcript + interim\n                const base = origInputRef.current || \"\";\n                const space = base && finalTranscriptRef.current ? \" \" : \"\";\n                setInput(base + space + finalTranscriptRef.current + interim);\n            };\n            recognition.onerror = (err)=>{\n                console.error(\"Speech recognition error\", err);\n                // stop on error\n                try {\n                    recognition.stop();\n                } catch (e) {}\n                setIsRecording(false);\n                recognitionRef.current = null;\n            };\n            recognition.onend = ()=>{\n                // ensure final transcript placed in input\n                const base = origInputRef.current || \"\";\n                const space = base && finalTranscriptRef.current ? \" \" : \"\";\n                setInput(base + space + finalTranscriptRef.current);\n                setIsRecording(false);\n                recognitionRef.current = null;\n            };\n            recognition.start();\n            recognitionRef.current = recognition;\n            setIsRecording(true);\n        } catch (e) {\n            console.error(\"Failed to start speech recognition\", e);\n            alert(\"Could not start speech recognition.\");\n        }\n    };\n    const stopRecognition = ()=>{\n        const rec = recognitionRef.current;\n        if (rec) {\n            try {\n                rec.stop();\n            } catch (e) {}\n        }\n        setIsRecording(false);\n        recognitionRef.current = null;\n    };\n    const toggleRecording = ()=>{\n        if (isRecording) stopRecognition();\n        else startRecognition();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full bg-gradient-to-b from-gray-50 via-white to-gray-100 rounded-3xl shadow-2xl border border-gray-200 overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-3 p-5 border-b border-gray-200 bg-white/70 backdrop-blur-md\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative w-12 h-12\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute inset-0 rounded-full bg-gradient-to-br from-indigo-400 to-purple-500 blur-lg opacity-60\"\n                            }, void 0, false, {\n                                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                lineNumber: 379,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative w-full h-full flex items-center justify-center bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full shadow-lg\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Mic_Send_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    className: \"w-6 h-6 text-white\"\n                                }, void 0, false, {\n                                    fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                    lineNumber: 381,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                lineNumber: 380,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                        lineNumber: 378,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-bold text-gray-900\",\n                                children: \"AI Legal Assistant\"\n                            }, void 0, false, {\n                                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                lineNumber: 385,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-500\",\n                                children: \"Your professional AI legal companion\"\n                            }, void 0, false, {\n                                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                lineNumber: 386,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                        lineNumber: 384,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                lineNumber: 377,\n                columnNumber: 3\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto p-5 space-y-4 scroll-smooth relative\",\n                children: [\n                    messages.map((msg)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex \".concat(msg.role === \"user\" ? \"justify-end\" : \"justify-start\"),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"max-w-[75%] px-5 py-3 rounded-3xl text-sm shadow transition-all duration-200 whitespace-pre-wrap break-words\\n                \".concat(msg.role === \"user\" ? \"bg-gradient-to-br from-indigo-600 to-purple-600 text-white rounded-br-none\" : \"bg-white border border-gray-100 text-gray-800 rounded-bl-none\"),\n                                children: [\n                                    msg.content,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-xs mt-1 \".concat(msg.role === \"user\" ? \"text-indigo-200\" : \"text-gray-400\"),\n                                        children: new Date(msg.timestamp).toLocaleTimeString([], {\n                                            hour: \"2-digit\",\n                                            minute: \"2-digit\"\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                        lineNumber: 403,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                lineNumber: 394,\n                                columnNumber: 13\n                            }, this)\n                        }, msg.id, false, {\n                            fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                            lineNumber: 393,\n                            columnNumber: 11\n                        }, this)),\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-start\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center bg-white border border-gray-100 px-3 py-2 rounded-2xl shadow-md\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Mic_Send_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-4 h-4 animate-spin text-purple-600\",\n                                \"aria-hidden\": true\n                            }, void 0, false, {\n                                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                lineNumber: 413,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                            lineNumber: 412,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                        lineNumber: 411,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            height: inputSpacerHeight\n                        },\n                        \"aria-hidden\": true\n                    }, void 0, false, {\n                        fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                        lineNumber: 418,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                        lineNumber: 419,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                lineNumber: 391,\n                columnNumber: 3\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: inputContainerRef,\n                className: \"p-5 border-t border-gray-200 bg-white/70 backdrop-blur-md\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-end gap-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                            ref: textareaRef,\n                            value: input,\n                            onChange: (e)=>setInput(e.target.value),\n                            onKeyPress: handleKeyPress,\n                            placeholder: \"Ask your legal question here...\",\n                            rows: 1,\n                            style: {\n                                maxHeight: \"7rem\"\n                            },\n                            className: \"flex-1 px-5 py-3 rounded-2xl border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm shadow-sm placeholder-gray-400\"\n                        }, void 0, false, {\n                            fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                            lineNumber: 425,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"button\",\n                            onClick: toggleRecording,\n                            className: \"p-3 rounded-full \".concat(isRecording ? \"bg-red-100\" : \"bg-gray-100 hover:bg-gray-200\", \" text-gray-700 transition-all shadow-sm\"),\n                            title: \"Voice Input\",\n                            \"aria-pressed\": isRecording,\n                            \"aria-label\": \"Toggle voice input\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Mic_Send_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                        className: \"w-5 h-5 \".concat(isRecording ? \"text-red-600\" : \"text-gray-600\")\n                                    }, void 0, false, {\n                                        fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                        lineNumber: 444,\n                                        columnNumber: 15\n                                    }, this),\n                                    isRecording && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"absolute -top-1 -right-1 w-2 h-2 bg-red-600 rounded-full ring-1 ring-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                        lineNumber: 445,\n                                        columnNumber: 31\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                lineNumber: 443,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                            lineNumber: 435,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleSend,\n                            disabled: loading || !input.trim(),\n                            className: \"p-3 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed\",\n                            title: \"Send Message\",\n                            children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Mic_Send_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-5 h-5 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                lineNumber: 454,\n                                columnNumber: 24\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_Mic_Send_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                                lineNumber: 454,\n                                columnNumber: 71\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                            lineNumber: 448,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                    lineNumber: 424,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n                lineNumber: 423,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/yaswanth/Yassu/ai-dispute/frontend/src/components/ai/AIChatAssistant.tsx\",\n        lineNumber: 375,\n        columnNumber: 3\n    }, this);\n}\n_s(AIChatAssistant, \"D8LyvmJUfv5WUlEzjQiPwTMKD1s=\");\n_c = AIChatAssistant;\nvar _c;\n$RefreshReg$(_c, \"AIChatAssistant\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2FpL0FJQ2hhdEFzc2lzdGFudC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFb0Q7QUFDUTtBQUNoQjtBQWE3QixTQUFTUSxnQkFBZ0IsS0FBZ0M7UUFBaEMsRUFBRUMsTUFBTSxFQUF3QixHQUFoQzs7SUFDdEMsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdYLCtDQUFRQSxDQUFZO1FBQ2xEO1lBQ0VZLElBQUk7WUFDSkMsTUFBTTtZQUNOQyxTQUNFO1lBQ0ZDLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztRQUNuQztLQUNEO0lBQ0QsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNvQixTQUFTQyxXQUFXLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNc0IsaUJBQWlCckIsNkNBQU1BLENBQWlCO0lBQzlDLE1BQU1zQixjQUFjdEIsNkNBQU1BLENBQTZCO0lBQ3ZELE1BQU11QixvQkFBb0J2Qiw2Q0FBTUEsQ0FBd0I7SUFDeEQsTUFBTSxDQUFDd0IsbUJBQW1CQyxxQkFBcUIsR0FBRzFCLCtDQUFRQSxDQUFTO0lBQ25FLE1BQU0sQ0FBQzJCLGFBQWFDLGVBQWUsR0FBRzVCLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU02QixpQkFBaUI1Qiw2Q0FBTUEsQ0FBTTtJQUNuQyxNQUFNNkIscUJBQXFCN0IsNkNBQU1BLENBQVM7SUFDMUMsTUFBTThCLGVBQWU5Qiw2Q0FBTUEsQ0FBUztJQUVwQ0MsZ0RBQVNBLENBQUM7WUFDUm9CO1NBQUFBLDBCQUFBQSxlQUFlVSxPQUFPLGNBQXRCViw4Q0FBQUEsd0JBQXdCVyxjQUFjLENBQUM7WUFBRUMsVUFBVTtZQUFVQyxPQUFPO1FBQU07SUFDNUUsR0FBRztRQUFDekI7UUFBVVU7S0FBUTtJQUV0Qix1RUFBdUU7SUFDdkUsNEVBQTRFO0lBQzVFbEIsZ0RBQVNBLENBQUM7UUFDUixJQUFJa0MsVUFB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SVEsS0FBSzVKOzs7Ozs7Ozs7Ozs7MEJBSVosOERBQUNvSjtnQkFBSVEsS0FBSzFKO2dCQUFtQm1KLFdBQVU7MEJBQ3JDLDRFQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNROzRCQUNDRCxLQUFLM0o7NEJBQ0xzRixPQUFPM0Y7NEJBQ1BrSyxVQUFVLENBQUN2SCxJQUFNMUMsU0FBUzBDLEVBQUV3SCxNQUFNLENBQUN4RSxLQUFLOzRCQUN4Q3lFLFlBQVkzQzs0QkFDWjRDLGFBQVk7NEJBQ1pDLE1BQU07NEJBQ05sSCxPQUFPO2dDQUFFTSxXQUFXOzRCQUFPOzRCQUMzQitGLFdBQVU7Ozs7OztzQ0FFWiw4REFBQ2M7NEJBQ0NDLE1BQUs7NEJBQ0xDLFNBQVNsQjs0QkFDVEUsV0FBVyxvQkFBaUYsT0FBN0RoSixjQUFjLGVBQWUsaUNBQWdDOzRCQUM1RmlLLE9BQU07NEJBQ05DLGdCQUFjbEs7NEJBQ2RtSyxjQUFXO3NDQUVYLDRFQUFDcEI7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDcksscUdBQUdBO3dDQUFDcUssV0FBVyxXQUEwRCxPQUEvQ2hKLGNBQWMsaUJBQWlCOzs7Ozs7b0NBQ3pEQSw2QkFBZSw4REFBQ29LO3dDQUFLcEIsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7c0NBR3BDLDhEQUFDYzs0QkFDQ0UsU0FBU3ZHOzRCQUNUNEcsVUFBVTVLLFdBQVcsQ0FBQ0YsTUFBTW1FLElBQUk7NEJBQ2hDc0YsV0FBVTs0QkFDVmlCLE9BQU07c0NBRUx4Syx3QkFBVSw4REFBQ2YscUdBQU9BO2dDQUFDc0ssV0FBVTs7Ozs7cURBQTRCLDhEQUFDeEsscUdBQUlBO2dDQUFDd0ssV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU10RjtHQTFid0JuSztLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9haS9BSUNoYXRBc3Npc3RhbnQudHN4PzA2OTEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTZW5kLCBTcGFya2xlcywgTG9hZGVyMiwgTWljIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IEFQSV9VUkwgfSBmcm9tICdAL2xpYi9mZXRjaENsaWVudCc7XG5cbmludGVyZmFjZSBNZXNzYWdlIHtcbiAgaWQ6IHN0cmluZztcbiAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBBSUNoYXRBc3Npc3RhbnRQcm9wcyB7XG4gIGNhc2VJZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQUlDaGF0QXNzaXN0YW50KHsgY2FzZUlkIH06IEFJQ2hhdEFzc2lzdGFudFByb3BzKSB7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8TWVzc2FnZVtdPihbXG4gICAge1xuICAgICAgaWQ6ICcxJyxcbiAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgY29udGVudDpcbiAgICAgICAgXCLwn5GLIEhlbGxvISBJ4oCZbSB5b3VyIEFJIExlZ2FsIEFzc2lzdGFudCDigJQgcmVhZHkgdG8gaGVscCB5b3UgdW5kZXJzdGFuZCB5b3VyIGNhc2UsIGV4cGxhaW4gbGVnYWwgdGVybXMsIGFuZCBzdWdnZXN0IGZhaXIgc3RyYXRlZ2llcy4gSG93IGNhbiBJIGFzc2lzdCB5b3UgdG9kYXk/XCIsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9LFxuICBdKTtcbiAgY29uc3QgW2lucHV0LCBzZXRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCB0ZXh0YXJlYVJlZiA9IHVzZVJlZjxIVE1MVGV4dEFyZWFFbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IGlucHV0Q29udGFpbmVyUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpbnB1dFNwYWNlckhlaWdodCwgc2V0SW5wdXRTcGFjZXJIZWlnaHRdID0gdXNlU3RhdGU8bnVtYmVyPig3Mik7XG4gIGNvbnN0IFtpc1JlY29yZGluZywgc2V0SXNSZWNvcmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCByZWNvZ25pdGlvblJlZiA9IHVzZVJlZjxhbnk+KG51bGwpO1xuICBjb25zdCBmaW5hbFRyYW5zY3JpcHRSZWYgPSB1c2VSZWY8c3RyaW5nPignJyk7XG4gIGNvbnN0IG9yaWdJbnB1dFJlZiA9IHVzZVJlZjxzdHJpbmc+KCcnKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2VuZCcgfSk7XG4gIH0sIFttZXNzYWdlcywgbG9hZGluZ10pO1xuXG4gIC8vIE9uIG1vdW50LCB0cnkgdG8gbG9hZCBwZXJzaXN0ZWQgY29udmVyc2F0aW9uIGZyb20gYmFja2VuZCBzbyByZWZyZXNoXG4gIC8vIHByZXNlcnZlcyBjaGF0IGhpc3RvcnkuIElmIGZldGNoaW5nIGZhaWxzICg0MDEgb3IgbmV0d29yayksIGtlZXAgZGVmYXVsdC5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbW91bnRlZCA9IHRydWU7XG4gICAgY29uc3QgbG9hZENvbnZlcnNhdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFwaUJhc2UgPSAoQVBJX1VSTCB8fCAnJykucmVwbGFjZSgvXFwvYXBpXFwvPyQvLCAnJyk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpIDogbnVsbDtcbiAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKGAke2FwaUJhc2V9L2FwaS9haS9jb252ZXJzYXRpb25gLCB7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgLi4uKHRva2VuID8geyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCB9IDoge30pLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIW1vdW50ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKCFyZXNwLm9rKSB7XG4gICAgICAgICAgLy8gaWdub3JlIGF1dGggZXJyb3JzIC8gbmV0d29yayBpc3N1ZXMgaGVyZSBhbmQga2VlcCBkZWZhdWx0IGdyZWV0aW5nXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwLmpzb24oKTtcbiAgICAgICAgaWYgKGpzb24gJiYganNvbi5zdWNjZXNzICYmIGpzb24uZGF0YSAmJiBBcnJheS5pc0FycmF5KGpzb24uZGF0YS5oaXN0b3J5KSAmJiBqc29uLmRhdGEuaGlzdG9yeS5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBtYXBwZWQ6IE1lc3NhZ2VbXSA9IGpzb24uZGF0YS5oaXN0b3J5Lm1hcCgobTogYW55LCBpZHg6IG51bWJlcikgPT4gKHtcbiAgICAgICAgICAgIGlkOiBgJHttLnRpbWVzdGFtcCB8fCBEYXRlLm5vdygpfS0ke2lkeH1gLFxuICAgICAgICAgICAgcm9sZTogbS5yb2xlIHx8ICdhc3Npc3RhbnQnLFxuICAgICAgICAgICAgY29udGVudDogbS5jb250ZW50IHx8ICcnLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBtLnRpbWVzdGFtcCB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIHNldE1lc3NhZ2VzKG1hcHBlZCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaWdub3JlIC0ga2VlcCBkZWZhdWx0IGdyZWV0aW5nXG4gICAgICB9XG4gICAgfTtcbiAgICBsb2FkQ29udmVyc2F0aW9uKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG1vdW50ZWQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gTWVhc3VyZSBpbnB1dCBjb250YWluZXIgaGVpZ2h0IHNvIHdlIGNhbiBpbnNlcnQgYSBzcGFjZXIgaW5zaWRlIHRoZVxuICAvLyBtZXNzYWdlcyBhcmVhLiBUaGlzIHByZXZlbnRzIHRoZSBsYXN0IG1lc3NhZ2UgZnJvbSBiZWluZyBoaWRkZW4gdW5kZXJcbiAgLy8gdGhlIGlucHV0IGFuZCBhbHNvIHJlbW92ZXMgd2VpcmQgdmlzdWFsIGdhcHMgYXQgdGhlIGJvdHRvbS5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBtZWFzdXJlID0gKCkgPT4ge1xuICAgICAgY29uc3QgaCA9IGlucHV0Q29udGFpbmVyUmVmLmN1cnJlbnQ/Lm9mZnNldEhlaWdodCB8fCA3MjtcbiAgICAgIHNldElucHV0U3BhY2VySGVpZ2h0KGggKyA4KTsgLy8gYWRkIHNtYWxsIGJ1ZmZlclxuICAgIH07XG4gICAgbWVhc3VyZSgpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBtZWFzdXJlKTtcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG1lYXN1cmUpO1xuICB9LCBbXSk7XG5cbiAgLy8gQXV0by1yZXNpemUgdGV4dGFyZWEgdXAgdG8gYSBtYXhpbXVtIGxpbmVzICg0KS4gV2hlbiBjb250ZW50IGhlaWdodFxuICAvLyBleGNlZWRzIHRoYXQsIGVuYWJsZSBpbnRlcm5hbCBzY3JvbGxpbmcuXG4gIGNvbnN0IGFkanVzdFRleHRhcmVhSGVpZ2h0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHRhID0gdGV4dGFyZWFSZWYuY3VycmVudDtcbiAgICBpZiAoIXRhKSByZXR1cm47XG5cbiAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhKTtcbiAgICBsZXQgbGluZUhlaWdodCA9IHBhcnNlRmxvYXQoc3R5bGUubGluZUhlaWdodCB8fCAnMCcpO1xuICAgIGlmICghbGluZUhlaWdodCB8fCBpc05hTihsaW5lSGVpZ2h0KSkgbGluZUhlaWdodCA9IDIwOyAvLyBzZW5zaWJsZSBmYWxsYmFja1xuXG4gICAgY29uc3QgbWF4TGluZXMgPSA0O1xuICAgIGNvbnN0IG1heEhlaWdodCA9IE1hdGguZmxvb3IobGluZUhlaWdodCAqIG1heExpbmVzKTtcblxuICAgIHRhLnN0eWxlLmhlaWdodCA9ICdhdXRvJzsgLy8gcmVzZXQgdG8gbWVhc3VyZVxuICAgIGNvbnN0IG5ld0hlaWdodCA9IE1hdGgubWluKHRhLnNjcm9sbEhlaWdodCwgbWF4SGVpZ2h0KTtcbiAgICB0YS5zdHlsZS5oZWlnaHQgPSBgJHtuZXdIZWlnaHR9cHhgO1xuXG4gICAgaWYgKHRhLnNjcm9sbEhlaWdodCA+IG1heEhlaWdodCkge1xuICAgICAgdGEuc3R5bGUub3ZlcmZsb3dZID0gJ2F1dG8nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YS5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJztcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhZGp1c3RUZXh0YXJlYUhlaWdodCgpO1xuICB9LCBbaW5wdXRdKTtcblxuICBjb25zdCBoYW5kbGVTZW5kID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaW5wdXQudHJpbSgpKSByZXR1cm47XG5cbiAgICBjb25zdCB1c2VyTWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICByb2xlOiAndXNlcicsXG4gICAgICBjb250ZW50OiBpbnB1dC50cmltKCksXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9O1xuXG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCB1c2VyTWVzc2FnZV0pO1xuICAgIHNldElucHV0KCcnKTtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuXG4gICAgLy8gbm9ybWFsaXplIGFwaSBiYXNlIGJlZm9yZSBuZXR3b3JrIGNhbGwgc28gZXJyb3IgaGFuZGxpbmcgY2FuIHJlZmVyZW5jZSBpdFxuICAgIGNvbnN0IGFwaUJhc2UgPSBBUElfVVJMLnJlcGxhY2UoL1xcL2FwaVxcLz8kLywgJycpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbkhpc3RvcnkgPSBbLi4ubWVzc2FnZXMsIHVzZXJNZXNzYWdlXS5tYXAoKG0pID0+ICh7XG4gICAgICAgIHJvbGU6IG0ucm9sZSxcbiAgICAgICAgY29udGVudDogbS5jb250ZW50LFxuICAgICAgfSkpO1xuXG4gIGNvbnN0IHRva2VuID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpIDogbnVsbDtcbiAgLy8gTm9ybWFsaXplIEFQSSBiYXNlOiBzdHJpcCB0cmFpbGluZyAvYXBpIG9yIC9hcGkvIHRvIGF2b2lkIGRvdWJsZSBzbGFzaGVzXG4gIGNvbnN0IHVybCA9IGAke2FwaUJhc2V9L2FwaS9haS9zdHJlYW1gO1xuICAgICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KHsgbWVzc2FnZTogdXNlck1lc3NhZ2UuY29udGVudCwgY2FzZUlkLCBjb252ZXJzYXRpb25IaXN0b3J5IH0pO1xuXG4gICAgICBjb25zdCByZXNwID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAuLi4odG9rZW4gPyB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0gOiB7fSksXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwLm9rKSB7XG4gICAgICAgIC8vIFRyeSB0byBwYXJzZSBKU09OIGVycm9yIGJvZHksIGVsc2UgcmVhZCB0ZXh0XG4gICAgICAgIGxldCBlcnJNc2cgPSBgU2VydmVyIHJldHVybmVkICR7cmVzcC5zdGF0dXN9YDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcC5qc29uKCk7XG4gICAgICAgICAgZXJyTXNnID0ganNvbj8uZXJyb3IgfHwganNvbj8ubWVzc2FnZSB8fCBKU09OLnN0cmluZ2lmeShqc29uKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0eHQgPSBhd2FpdCByZXNwLnRleHQoKTtcbiAgICAgICAgICAgIGlmICh0eHQpIGVyck1zZyA9IHR4dDtcbiAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5lcnJvcignQUkgc3RyZWFtIHN0YXJ0IGZhaWxlZDonLCByZXNwLnN0YXR1cywgZXJyTXNnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyck1zZyB8fCAnRmFpbGVkIHRvIHN0YXJ0IHN0cmVhbScpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZWFkZXIgPSByZXNwLmJvZHk/LmdldFJlYWRlcigpO1xuICAgICAgaWYgKCFyZWFkZXIpIHRocm93IG5ldyBFcnJvcignU3RyZWFtaW5nIG5vdCBzdXBwb3J0ZWQnKTtcblxuICAgICAgY29uc3QgYXNzaXN0YW50SWQgPSAoRGF0ZS5ub3coKSArIDEpLnRvU3RyaW5nKCk7XG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gW1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICB7IGlkOiBhc3Npc3RhbnRJZCwgcm9sZTogJ2Fzc2lzdGFudCcsIGNvbnRlbnQ6ICcnLCB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9LFxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICBsZXQgcGFydGlhbCA9ICcnO1xuXG4gICAgICAvLyBSb2J1c3QgU1NFIHBhcnNpbmc6IGhhbmRsZSBjaHVuayBib3VuZGFyaWVzIGFuZCBtdWx0aS1saW5lIGRhdGFcbiAgICAgIC8vIGZyYW1lcyAoY29tbW9ubHkgSlNPTikuIFdlIGFjY3VtdWxhdGUgaW5jb21pbmcgY2h1bmtzIGludG9cbiAgICAgIC8vIGBwYXJ0aWFsYCBhbmQgZXh0cmFjdCBjb21wbGV0ZSBTU0UgZXZlbnRzIHRlcm1pbmF0ZWQgYnkgXCJcXG5cXG5cIi5cbiAgICAgIC8vIEVhY2ggZXZlbnQgbWF5IGNvbnRhaW4gbXVsdGlwbGUgYGRhdGE6YCBsaW5lcyB3aGljaCBzaG91bGQgYmVcbiAgICAgIC8vIGpvaW5lZCB3aXRoIG5ld2xpbmVzLiBJZiB0aGUgZGF0YSBsb29rcyBsaWtlIEpTT04gd2UgcGFyc2UgaXQgYW5kXG4gICAgICAvLyBleHRyYWN0IHVzZWZ1bCBmaWVsZHMsIG90aGVyd2lzZSB0cmVhdCBhcyByYXcgdGV4dC5cbiAgICAgIHdoaWxlICghZG9uZSkge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lOiBzdHJlYW1Eb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBjb25zdCBjaHVua1RleHQgPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgICAgICAgcGFydGlhbCArPSBjaHVua1RleHQ7XG5cbiAgICAgICAgICAvLyBFeHRyYWN0IGNvbXBsZXRlIGV2ZW50c1xuICAgICAgICAgIGxldCBpZHg7XG4gICAgICAgICAgd2hpbGUgKChpZHggPSBwYXJ0aWFsLmluZGV4T2YoJ1xcblxcbicpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50QmxvY2sgPSBwYXJ0aWFsLnNsaWNlKDAsIGlkeCk7XG4gICAgICAgICAgICBwYXJ0aWFsID0gcGFydGlhbC5zbGljZShpZHggKyAyKTtcblxuICAgICAgICAgICAgaWYgKCFldmVudEJsb2NrLnRyaW0oKSkgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gZXZlbnRCbG9jay5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICBjb25zdCBkYXRhTGluZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICBsZXQgZXZlbnRUeXBlID0gJyc7XG5cbiAgICAgICAgICAgIGZvciAobGV0IHJhd0xpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgbGluZSA9IHJhd0xpbmUudHJpbSgpO1xuICAgICAgICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKCdkYXRhOicpKSB7XG4gICAgICAgICAgICAgICAgZGF0YUxpbmVzLnB1c2gobGluZS5yZXBsYWNlKC9eZGF0YTpcXHM/LywgJycpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLnN0YXJ0c1dpdGgoJ2V2ZW50OicpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gbGluZS5yZXBsYWNlKC9eZXZlbnQ6XFxzPy8sICcnKS50cmltKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZGF0YVN0ciA9IGRhdGFMaW5lcy5qb2luKCdcXG4nKTtcblxuICAgICAgICAgICAgLy8gSWYgZXZlbnQgZGVjbGFyZXMgZG9uZSwgbWFyayBjb21wbGV0aW9uXG4gICAgICAgICAgICBpZiAoZXZlbnRUeXBlICYmIGV2ZW50VHlwZS5pbmNsdWRlcygnZG9uZScpKSB7XG4gICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkYXRhU3RyKSBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gVHJ5IHRvIHBhcnNlIEpTT04gZnJhbWVzOyBtYW55IGJhY2tlbmRzIHNlbmQgSlNPTiBpbiBgZGF0YTpgXG4gICAgICAgICAgICBsZXQgYXBwZW5kZWQgPSAnJztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZGF0YVN0cik7XG4gICAgICAgICAgICAgIC8vIENvbW1vbiBwYXR0ZXJuczogeyB0ZXh0OiAnLi4uJywgY29udGVudDogJy4uLicgfSBvciBwbGFpbiBzdHJpbmdcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kZWQgPSBwYXJzZWQ7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VkPy50ZXh0KSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kZWQgPSBwYXJzZWQudGV4dDtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWQ/LmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRlZCA9IHBhcnNlZC5jb250ZW50O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBzdHJpbmdpZnkgZXZlcnl0aGluZ1xuICAgICAgICAgICAgICAgIGFwcGVuZGVkID0gSlNPTi5zdHJpbmdpZnkocGFyc2VkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAvLyBOb3QgSlNPTiwgdW5lc2NhcGUgZXhwbGljaXQgXFxuIHNlcXVlbmNlcyBhbmQgYXBwZW5kIHJhd1xuICAgICAgICAgICAgICBhcHBlbmRlZCA9IGRhdGFTdHIucmVwbGFjZSgvXFxcXG4vZywgJ1xcbicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXBwZW5kZWQpIHtcbiAgICAgICAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+XG4gICAgICAgICAgICAgICAgcHJldi5tYXAoKG0pID0+IChtLmlkID09PSBhc3Npc3RhbnRJZCA/IHsgLi4ubSwgY29udGVudDogbS5jb250ZW50ICsgYXBwZW5kZWQgfSA6IG0pKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJlYW1Eb25lKSBicmVhaztcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcmVhZGVyLnJlbGVhc2VMb2NrPy4oKTtcbiAgICAgIH0gY2F0Y2gge31cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIERpc3Rpbmd1aXNoIG5ldHdvcmstbGV2ZWwgZmFpbHVyZXMgKFR5cGVFcnJvcikgZnJvbSBIVFRQIGVycm9yc1xuICAgICAgY29uc3QgbXNnID0gKGVyciBhcyBhbnkpPy5tZXNzYWdlIHx8IFN0cmluZyhlcnIpO1xuICAgICAgbGV0IGZyaWVuZGx5ID0gYOKaoO+4jyBJIGVuY291bnRlcmVkIGFuIGlzc3VlIHdoaWxlIHByb2Nlc3NpbmcgeW91ciByZXF1ZXN0LiAke21zZ31gO1xuICAgICAgLy8gY29tbW9uIGJyb3dzZXIgbmV0d29yayBlcnJvciBtZXNzYWdlIGlzICdGYWlsZWQgdG8gZmV0Y2gnIChUeXBlRXJyb3IpXG4gICAgICBpZiAoL2ZhaWxlZCB0byBmZXRjaC9pLnRlc3QobXNnKSB8fCAvbmV0d29yay9pLnRlc3QobXNnKSkge1xuICAgICAgICBmcmllbmRseSA9IGDimqDvuI8gTmV0d29yayBlcnJvcjogY291bGQgbm90IHJlYWNoIHRoZSBiYWNrZW5kIGF0ICR7YXBpQmFzZSB8fCBBUElfVVJMfS4gSXMgdGhlIGJhY2tlbmQgcnVubmluZz8gQ2hlY2sgdGhlIGJyb3dzZXIgY29uc29sZSBmb3IgQ09SUyBvciBuZXR3b3JrIGVycm9ycy5gO1xuICAgICAgfVxuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICBpZDogKERhdGUubm93KCkgKyAxKS50b1N0cmluZygpLFxuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogZnJpZW5kbHksXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfTtcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgZXJyb3JNZXNzYWdlXSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVLZXlQcmVzcyA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBoYW5kbGVTZW5kKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIE1pY3JvcGhvbmUgLyBTcGVlY2ggcmVjb2duaXRpb24gaGFuZGxpbmcgKFdlYiBTcGVlY2ggQVBJKVxuICBjb25zdCBzdGFydFJlY29nbml0aW9uID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIGNvbnN0IFdpbjogYW55ID0gd2luZG93IGFzIGFueTtcbiAgICBjb25zdCBTcGVlY2hSZWNvZ25pdGlvbiA9IFdpbi5TcGVlY2hSZWNvZ25pdGlvbiB8fCBXaW4ud2Via2l0U3BlZWNoUmVjb2duaXRpb247XG4gICAgaWYgKCFTcGVlY2hSZWNvZ25pdGlvbikge1xuICAgICAgYWxlcnQoJ1NwZWVjaCByZWNvZ25pdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVjb2duaXRpb24gPSBuZXcgU3BlZWNoUmVjb2duaXRpb24oKTtcbiAgICAgIHJlY29nbml0aW9uLmxhbmcgPSAnZW4tSU4nO1xuICAgICAgcmVjb2duaXRpb24uaW50ZXJpbVJlc3VsdHMgPSB0cnVlO1xuICAgICAgcmVjb2duaXRpb24uY29udGludW91cyA9IHRydWU7XG5cbiAgICAgIGZpbmFsVHJhbnNjcmlwdFJlZi5jdXJyZW50ID0gJyc7XG4gICAgICBvcmlnSW5wdXRSZWYuY3VycmVudCA9IGlucHV0IHx8ICcnO1xuXG4gICAgICByZWNvZ25pdGlvbi5vbnJlc3VsdCA9IChldjogYW55KSA9PiB7XG4gICAgICAgIGxldCBpbnRlcmltID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSBldi5yZXN1bHRJbmRleDsgaSA8IGV2LnJlc3VsdHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBjb25zdCByZXMgPSBldi5yZXN1bHRzW2ldO1xuICAgICAgICAgIGlmIChyZXMuaXNGaW5hbCkge1xuICAgICAgICAgICAgZmluYWxUcmFuc2NyaXB0UmVmLmN1cnJlbnQgKz0gcmVzWzBdLnRyYW5zY3JpcHQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGludGVyaW0gKz0gcmVzWzBdLnRyYW5zY3JpcHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29tYmluZSBvcmlnaW5hbCBpbnB1dCArIGZpbmFsaXplZCB0cmFuc2NyaXB0ICsgaW50ZXJpbVxuICAgICAgICBjb25zdCBiYXNlID0gb3JpZ0lucHV0UmVmLmN1cnJlbnQgfHwgJyc7XG4gICAgICAgIGNvbnN0IHNwYWNlID0gYmFzZSAmJiBmaW5hbFRyYW5zY3JpcHRSZWYuY3VycmVudCA/ICcgJyA6ICcnO1xuICAgICAgICBzZXRJbnB1dChiYXNlICsgc3BhY2UgKyBmaW5hbFRyYW5zY3JpcHRSZWYuY3VycmVudCArIGludGVyaW0pO1xuICAgICAgfTtcblxuICAgICAgcmVjb2duaXRpb24ub25lcnJvciA9IChlcnI6IGFueSkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTcGVlY2ggcmVjb2duaXRpb24gZXJyb3InLCBlcnIpO1xuICAgICAgICAvLyBzdG9wIG9uIGVycm9yXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVjb2duaXRpb24uc3RvcCgpO1xuICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgIHNldElzUmVjb3JkaW5nKGZhbHNlKTtcbiAgICAgICAgcmVjb2duaXRpb25SZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICByZWNvZ25pdGlvbi5vbmVuZCA9ICgpID0+IHtcbiAgICAgICAgLy8gZW5zdXJlIGZpbmFsIHRyYW5zY3JpcHQgcGxhY2VkIGluIGlucHV0XG4gICAgICAgIGNvbnN0IGJhc2UgPSBvcmlnSW5wdXRSZWYuY3VycmVudCB8fCAnJztcbiAgICAgICAgY29uc3Qgc3BhY2UgPSBiYXNlICYmIGZpbmFsVHJhbnNjcmlwdFJlZi5jdXJyZW50ID8gJyAnIDogJyc7XG4gICAgICAgIHNldElucHV0KGJhc2UgKyBzcGFjZSArIGZpbmFsVHJhbnNjcmlwdFJlZi5jdXJyZW50KTtcbiAgICAgICAgc2V0SXNSZWNvcmRpbmcoZmFsc2UpO1xuICAgICAgICByZWNvZ25pdGlvblJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIHJlY29nbml0aW9uLnN0YXJ0KCk7XG4gICAgICByZWNvZ25pdGlvblJlZi5jdXJyZW50ID0gcmVjb2duaXRpb247XG4gICAgICBzZXRJc1JlY29yZGluZyh0cnVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3RhcnQgc3BlZWNoIHJlY29nbml0aW9uJywgZSk7XG4gICAgICBhbGVydCgnQ291bGQgbm90IHN0YXJ0IHNwZWVjaCByZWNvZ25pdGlvbi4nKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc3RvcFJlY29nbml0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHJlYyA9IHJlY29nbml0aW9uUmVmLmN1cnJlbnQ7XG4gICAgaWYgKHJlYykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVjLnN0b3AoKTtcbiAgICAgIH0gY2F0Y2gge31cbiAgICB9XG4gICAgc2V0SXNSZWNvcmRpbmcoZmFsc2UpO1xuICAgIHJlY29nbml0aW9uUmVmLmN1cnJlbnQgPSBudWxsO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZVJlY29yZGluZyA9ICgpID0+IHtcbiAgICBpZiAoaXNSZWNvcmRpbmcpIHN0b3BSZWNvZ25pdGlvbigpO1xuICAgIGVsc2Ugc3RhcnRSZWNvZ25pdGlvbigpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGwgYmctZ3JhZGllbnQtdG8tYiBmcm9tLWdyYXktNTAgdmlhLXdoaXRlIHRvLWdyYXktMTAwIHJvdW5kZWQtM3hsIHNoYWRvdy0yeGwgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcC01IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBiZy13aGl0ZS83MCBiYWNrZHJvcC1ibHVyLW1kXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy0xMiBoLTEyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1iciBmcm9tLWluZGlnby00MDAgdG8tcHVycGxlLTUwMCBibHVyLWxnIG9wYWNpdHktNjBcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1pbmRpZ28tNjAwIHRvLXB1cnBsZS02MDAgcm91bmRlZC1mdWxsIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwXCI+QUkgTGVnYWwgQXNzaXN0YW50PC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5Zb3VyIHByb2Zlc3Npb25hbCBBSSBsZWdhbCBjb21wYW5pb248L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNZXNzYWdlcyAqL31cbiAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNSBzcGFjZS15LTQgc2Nyb2xsLXNtb290aCByZWxhdGl2ZVwiPlxuICAgICAgICB7bWVzc2FnZXMubWFwKChtc2cpID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17bXNnLmlkfSBjbGFzc05hbWU9e2BmbGV4ICR7bXNnLnJvbGUgPT09ICd1c2VyJyA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9YH0+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YG1heC13LVs3NSVdIHB4LTUgcHktMyByb3VuZGVkLTN4bCB0ZXh0LXNtIHNoYWRvdyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgd2hpdGVzcGFjZS1wcmUtd3JhcCBicmVhay13b3Jkc1xuICAgICAgICAgICAgICAgICR7XG4gICAgICAgICAgICAgICAgICBtc2cucm9sZSA9PT0gJ3VzZXInXG4gICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyYWRpZW50LXRvLWJyIGZyb20taW5kaWdvLTYwMCB0by1wdXJwbGUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1ici1ub25lJ1xuICAgICAgICAgICAgICAgICAgICA6ICdiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMTAwIHRleHQtZ3JheS04MDAgcm91bmRlZC1ibC1ub25lJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7bXNnLmNvbnRlbnR9XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdGV4dC14cyBtdC0xICR7bXNnLnJvbGUgPT09ICd1c2VyJyA/ICd0ZXh0LWluZGlnby0yMDAnIDogJ3RleHQtZ3JheS00MDAnfWB9PlxuICAgICAgICAgICAgICAgIHtuZXcgRGF0ZShtc2cudGltZXN0YW1wKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG5cbiAgICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LXN0YXJ0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGJnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS0xMDAgcHgtMyBweS0yIHJvdW5kZWQtMnhsIHNoYWRvdy1tZFwiPlxuICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTQgaC00IGFuaW1hdGUtc3BpbiB0ZXh0LXB1cnBsZS02MDBcIiBhcmlhLWhpZGRlbiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBoZWlnaHQ6IGlucHV0U3BhY2VySGVpZ2h0IH19IGFyaWEtaGlkZGVuIC8+XG4gICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogSW5wdXQgQXJlYSAqL31cbiAgICAgIDxkaXYgcmVmPXtpbnB1dENvbnRhaW5lclJlZn0gY2xhc3NOYW1lPVwicC01IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBiZy13aGl0ZS83MCBiYWNrZHJvcC1ibHVyLW1kXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1lbmQgZ2FwLTNcIj5cbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIHJlZj17dGV4dGFyZWFSZWZ9XG4gICAgICAgICAgICB2YWx1ZT17aW5wdXR9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldElucHV0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIG9uS2V5UHJlc3M9e2hhbmRsZUtleVByZXNzfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBc2sgeW91ciBsZWdhbCBxdWVzdGlvbiBoZXJlLi4uXCJcbiAgICAgICAgICAgIHJvd3M9ezF9XG4gICAgICAgICAgICBzdHlsZT17eyBtYXhIZWlnaHQ6ICc3cmVtJyB9fSAvLyByb3VnaGx5IDQgbGluZXNcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC01IHB5LTMgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1pbmRpZ28tNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudCB0ZXh0LXNtIHNoYWRvdy1zbSBwbGFjZWhvbGRlci1ncmF5LTQwMFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVJlY29yZGluZ31cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMyByb3VuZGVkLWZ1bGwgJHtpc1JlY29yZGluZyA/ICdiZy1yZWQtMTAwJyA6ICdiZy1ncmF5LTEwMCBob3ZlcjpiZy1ncmF5LTIwMCd9IHRleHQtZ3JheS03MDAgdHJhbnNpdGlvbi1hbGwgc2hhZG93LXNtYH1cbiAgICAgICAgICAgIHRpdGxlPVwiVm9pY2UgSW5wdXRcIlxuICAgICAgICAgICAgYXJpYS1wcmVzc2VkPXtpc1JlY29yZGluZ31cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJUb2dnbGUgdm9pY2UgaW5wdXRcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgPE1pYyBjbGFzc05hbWU9e2B3LTUgaC01ICR7aXNSZWNvcmRpbmcgPyAndGV4dC1yZWQtNjAwJyA6ICd0ZXh0LWdyYXktNjAwJ31gfSAvPlxuICAgICAgICAgICAgICB7aXNSZWNvcmRpbmcgJiYgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0xIC1yaWdodC0xIHctMiBoLTIgYmctcmVkLTYwMCByb3VuZGVkLWZ1bGwgcmluZy0xIHJpbmctd2hpdGVcIiAvPn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlbmR9XG4gICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZyB8fCAhaW5wdXQudHJpbSgpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0zIHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1yIGZyb20taW5kaWdvLTYwMCB0by1wdXJwbGUtNjAwIHRleHQtd2hpdGUgaG92ZXI6c2hhZG93LXhsIHRyYW5zaXRpb24tYWxsIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgIHRpdGxlPVwiU2VuZCBNZXNzYWdlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bG9hZGluZyA/IDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNSBoLTUgYW5pbWF0ZS1zcGluXCIgLz4gOiA8U2VuZCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz59XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJTZW5kIiwiU3BhcmtsZXMiLCJMb2FkZXIyIiwiTWljIiwiQVBJX1VSTCIsIkFJQ2hhdEFzc2lzdGFudCIsImNhc2VJZCIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJpZCIsInJvbGUiLCJjb250ZW50IiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiaW5wdXQiLCJzZXRJbnB1dCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwibWVzc2FnZXNFbmRSZWYiLCJ0ZXh0YXJlYVJlZiIsImlucHV0Q29udGFpbmVyUmVmIiwiaW5wdXRTcGFjZXJIZWlnaHQiLCJzZXRJbnB1dFNwYWNlckhlaWdodCIsImlzUmVjb3JkaW5nIiwic2V0SXNSZWNvcmRpbmciLCJyZWNvZ25pdGlvblJlZiIsImZpbmFsVHJhbnNjcmlwdFJlZiIsIm9yaWdJbnB1dFJlZiIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJtb3VudGVkIiwibG9hZENvbnZlcnNhdGlvbiIsImFwaUJhc2UiLCJyZXBsYWNlIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVzcCIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJvayIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsIkFycmF5IiwiaXNBcnJheSIsImhpc3RvcnkiLCJsZW5ndGgiLCJtYXBwZWQiLCJtYXAiLCJtIiwiaWR4Iiwibm93IiwiZSIsIm1lYXN1cmUiLCJoIiwib2Zmc2V0SGVpZ2h0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGp1c3RUZXh0YXJlYUhlaWdodCIsInRhIiwic3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwibGluZUhlaWdodCIsInBhcnNlRmxvYXQiLCJpc05hTiIsIm1heExpbmVzIiwibWF4SGVpZ2h0IiwiTWF0aCIsImZsb29yIiwiaGVpZ2h0IiwibmV3SGVpZ2h0IiwibWluIiwic2Nyb2xsSGVpZ2h0Iiwib3ZlcmZsb3dZIiwiaGFuZGxlU2VuZCIsInRyaW0iLCJ1c2VyTWVzc2FnZSIsInRvU3RyaW5nIiwicHJldiIsImNvbnZlcnNhdGlvbkhpc3RvcnkiLCJ1cmwiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm1lc3NhZ2UiLCJlcnJNc2ciLCJzdGF0dXMiLCJlcnJvciIsInR4dCIsInRleHQiLCJjb25zb2xlIiwiRXJyb3IiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJhc3Npc3RhbnRJZCIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsImRvbmUiLCJwYXJ0aWFsIiwidmFsdWUiLCJzdHJlYW1Eb25lIiwicmVhZCIsImNodW5rVGV4dCIsImRlY29kZSIsInN0cmVhbSIsImluZGV4T2YiLCJldmVudEJsb2NrIiwic2xpY2UiLCJsaW5lcyIsInNwbGl0IiwiZGF0YUxpbmVzIiwiZXZlbnRUeXBlIiwicmF3TGluZSIsImxpbmUiLCJzdGFydHNXaXRoIiwicHVzaCIsImRhdGFTdHIiLCJqb2luIiwiaW5jbHVkZXMiLCJhcHBlbmRlZCIsInBhcnNlZCIsInBhcnNlIiwicmVsZWFzZUxvY2siLCJlcnIiLCJtc2ciLCJTdHJpbmciLCJmcmllbmRseSIsInRlc3QiLCJlcnJvck1lc3NhZ2UiLCJoYW5kbGVLZXlQcmVzcyIsImtleSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJzdGFydFJlY29nbml0aW9uIiwiV2luIiwiU3BlZWNoUmVjb2duaXRpb24iLCJ3ZWJraXRTcGVlY2hSZWNvZ25pdGlvbiIsImFsZXJ0IiwicmVjb2duaXRpb24iLCJsYW5nIiwiaW50ZXJpbVJlc3VsdHMiLCJjb250aW51b3VzIiwib25yZXN1bHQiLCJldiIsImludGVyaW0iLCJpIiwicmVzdWx0SW5kZXgiLCJyZXN1bHRzIiwicmVzIiwiaXNGaW5hbCIsInRyYW5zY3JpcHQiLCJiYXNlIiwic3BhY2UiLCJvbmVycm9yIiwic3RvcCIsIm9uZW5kIiwic3RhcnQiLCJzdG9wUmVjb2duaXRpb24iLCJyZWMiLCJ0b2dnbGVSZWNvcmRpbmciLCJkaXYiLCJjbGFzc05hbWUiLCJoMyIsInAiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiYXJpYS1oaWRkZW4iLCJyZWYiLCJ0ZXh0YXJlYSIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib25LZXlQcmVzcyIsInBsYWNlaG9sZGVyIiwicm93cyIsImJ1dHRvbiIsInR5cGUiLCJvbkNsaWNrIiwidGl0bGUiLCJhcmlhLXByZXNzZWQiLCJhcmlhLWxhYmVsIiwic3BhbiIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/ai/AIChatAssistant.tsx\n"));

/***/ })

});